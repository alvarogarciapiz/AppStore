<!DOCTYPE html>
<html lang="es">

<head>
    <link rel="stylesheet" href="styles.css" />
    <link rel="stylesheet" href="stylePurchase.css" />
    <meta charset="UTF-8" />
    <meta name="description" content="Práctica final para la asignatura de desarrollo web I" />
    <meta name="keywords" content="HTML, CSS, JavaScript" />
    <meta name="author" content="Álvaro García Pizarro" />
    <script src="https://code.jquery.com/jquery-3.6.1.min.js"
        integrity="sha256-o88AwQnZB+VDvE9tvIXrMQaPlFFSUTR+nldQm1LuPXQ=" crossorigin="anonymous"></script>
    <style>
        .textoVerde {
            color: rgb(20, 133, 29);
            text-decoration: none;
            font-family: Arial, Helvetica, sans-serif;
            font-size: 17px;
            margin-left: 20px;
        }
    </style>
</head>

<body>
    <header>
        <div class="logoSpace">
            <a href="landingPage.html" class="textoNav"><img class="logo" src="assets/Apple_logo_white.svg.png" /></a>
        </div>
        <div class="enlaces">
            <a href="catalogo.html" class="textoNav">Catálogo</a>
            <a href="catalogo.html" class="textoNav">Juegos</a>
            <a href="catalogo.html" class="textoNav">Actualizaciones</a>
        </div>
        <div class="enlaceDerecha">
            <a href="registroLogin.html" class="textoNavDerecha">Login/Registro</a>
        </div>
    </header>


    <aside>
        <div class="buscador">
            <input class="buscadorInput" id="buscadorInput" type="text" placeholder="Buscar">
        </div>

        <div class="enlacesAside">
            <div class="enlaceAside">
                <a href="#" class="iconosAside"><img class="iconosAside" src="assets/home.png" /></a>
                <a href="#" class="enlaceAzulAside">Tu perfil</a>
            </div>
            <div class="enlaceAside">
                <a href="catalogo.html" class="iconosAside"><img class="iconosAside" src="assets/catalogo.png" /></a>
                <a href="catalogo.html" class="enlaceAzulAside">Catálogo</a>
            </div>
            <div class="enlaceAside">
                <a href="developer.html" class="iconosAside"><img class="iconosAside"
                        src="assets/desarrolladores.png" /></a>
                <a href="developer.html" class="enlaceAzulAside">Desarrollo</a>
            </div>

        </div>

        <div class="perfil">
            <div class="profile">
                <a href="#" class="profile"><img class="profile" src="assets/profile.png" /></a>
            </div>
            <div class="textoProfile">
                <a href="#" class="textoProfile">Tu perfil</a>
            </div>
        </div>
    </aside>

    <section class="purchase">
        <p class="textoGrisTitulo">Completa los datos de pago</p>
        <div class="espacioCampos">
            <p class="textoGrisInfo">Complete sus datos personales y de su tarjeta para poder completar el pago</p>
            <p><span class="textoRojo" id="help" style="margin-left: 0px;"></span></p>
            <input placeholder="Nombre" id="nombre" class="input"><span class="textoRojo" id="nombre_help"></span><br>
            <input placeholder="Apellidos" id="apellidos" class="input"><span class="textoRojo"
                id="apellidos_help"></span><br>
            <input placeholder="Número de tarjeta" id="numTarjeta" class="input" type="number"><span class="textoRojo"
                id="numTarjeta_help"></span><br>
            <input placeholder="Fecha de caducidad" class="input" type="date"><br>
            <input placeholder="CVV" id="cvv" class="input" type="number"><span class="textoRojo" id="cvv_help"></span>
        </div>
        <div class="espacioPago">
            <button class="botonPagar" id="pagar"><a class="textoBlanco">Pagar</a></button>
        </div>
    </section>

    <footer>
        <div class="footerIzquierda">
            <div class="infoFooter">
                <p class="textoFooter">Más formas de comprar: encuentra un <span class="enlaceAzul">Apple Store</span> o
                    un <span class="enlaceAzul">distribuidor</span> cerca de ti. O llama al 000 000
                    000.</p>
                <p class="textoFooter">Copyright © 2022 Apple Inc. Todos los derechos reservados.</p>
            </div>
            <div class="enlacesFooter">
                <a href="#" class="textoFooter">Política de privacidad </a> <a> | </a>
                <a href="#" class="textoFooter">Uso de Cookies </a> <a> | </a>
                <a href="#" class="textoFooter">Condiciones de servicio </a> <a> | </a>
                <a href="#" class="textoFooter">Ventas y reembolsos </a> <a> | </a>
                <a href="#" class="textoFooter">Avisos legales </a> <a> | </a>
                <a href="#" class="textoFooter">Mapa del sitio </a>
            </div>
        </div>
        <div class="footerDerecha">
            <div class="country">
                <a href="landingPage.html" class="textoNav"><img class="country" src="assets/spain.png" /></a>
            </div>
            <div class="enlaces">
                <a href="#" class="textoFooter">España</a>
            </div>
        </div>
    </footer>

    <script>
        $(document).ready(function () {
            var error = false;
            //Validación de los campos

            $('#pagar').click(function () {

                //Validación del Nombre
                if ($('#nombre').val() == "") {
                    $('#nombre_help').html('Introduzca su nombre');
                    error = true;
                }
                if ($('#nombre').val().length > 20) {
                    $('#nombre_help').html('Introduce un nombre válido');
                    error = true;
                }

                //Validación de los apellidos
                if ($('#apellidos').val() == "") {
                    $('#apellidos_help').html('Introduzca sus apellidos');
                    error = true;
                }
                if ($('#apellidos').val().length >= 40) {
                    $('#apellidos_help').html('Introduzca unos apellidos válidos');
                    error = true;
                }

                //Validación número de tarjeta
                var numTarjeta = $('#numTarjeta').val();
                if (!$.isNumeric(numTarjeta)) {
                    error = true;
                    $('#numTarjeta_help').html('Introduzca un número de tarjeta válido');
                }
                if (numTarjeta.length > 16) {
                    $('#numTarjeta_help').html('Introduzca un número de tarjeta válido');
                    error = true;
                }
                if (numTarjeta.length < 16) {
                    $('#numTarjeta_help').html('Introduzca un número de tarjeta válido');
                    error = true;
                }

                //Validación CVV
                var cvv = $('#cvv').val();
                if (!$.isNumeric(cvv)) {
                    error = true;
                    $('#cvv_help').html('Introduzca un CVV válido');
                }
                if (cvv.length > 3) {
                    $('#cvv_help').html('Introduzca un CVV válido');
                    error = true;
                }

                //Comprobación de ERROR
                if (error == true) {
                    $('#help').html('Corrija los errores');
                } else {
                    $('#help').addClass('textoVerde');
                    $('#help').html('Datos procesados con éxito');
                    //Envío de los datos
                }
            });

            $('#buscadorInput').keypress(function (e) {
                if (e.which == 13) {//Enter key pressed
                    window.location.replace("searchForm.html"); 
                }
            });
        });
    </script>
</body>

</html>