<!DOCTYPE html>
<html lang="es">

<head>
    <link rel="stylesheet" href="styles.css" />
    <link rel="stylesheet" href="styleLogin.css" />
    <meta charset="UTF-8" />
    <meta name="description" content="Práctica final para la asignatura de desarrollo web I" />
    <meta name="keywords" content="HTML, CSS, JavaScript" />
    <meta name="author" content="Álvaro García Pizarro" />
    <script src="https://code.jquery.com/jquery-3.6.1.min.js"
        integrity="sha256-o88AwQnZB+VDvE9tvIXrMQaPlFFSUTR+nldQm1LuPXQ=" crossorigin="anonymous"></script>
    <style>
        .textoVerde {
            color: rgb(20, 133, 29);
            text-decoration: none;
            font-family: Arial, Helvetica, sans-serif;
            font-size: 17px;
            margin-left: 20px;
        }

        .textoRojo {
            color: rgb(203, 52, 52);
            text-decoration: none;
            font-family: Arial, Helvetica, sans-serif;
            font-size: 17px;
            margin-left: 20px;
        }
    </style>
</head>

<body>
    <header>
        <div class="logoSpace">
            <a href="landingPage.html" class="textoNav"><img class="logo" src="assets/Apple_logo_white.svg.png" /></a>
        </div>
        <div class="enlaces">
            <a href="catalogo.html" class="textoNav">Catálogo</a>
            <a href="catalogo.html" class="textoNav">Juegos</a>
            <a href="catalogo.html" class="textoNav">Actualizaciones</a>
        </div>
        <div class="enlaceDerecha">
            <a href="registroLogin.html" class="textoNavDerecha">Login/Registro</a>
        </div>
    </header>


    <aside>
        <div class="buscador">
            <input class="buscadorInput" id="buscadorInput" type="text" placeholder="Buscar">
        </div>

        <div class="enlacesAside">
            <div class="enlaceAside">
                <a href="#" class="iconosAside"><img class="iconosAside" src="assets/home.png" /></a>
                <a href="#" class="enlaceAzulAside">Tu perfil</a>
            </div>
            <div class="enlaceAside">
                <a href="catalogo.html" class="iconosAside"><img class="iconosAside" src="assets/catalogo.png" /></a>
                <a href="catalogo.html" class="enlaceAzulAside">Catálogo</a>
            </div>
            <div class="enlaceAside">
                <a href="developer.html" class="iconosAside"><img class="iconosAside"
                        src="assets/desarrolladores.png" /></a>
                <a href="developer.html" class="enlaceAzulAside">Desarrollo</a>
            </div>

        </div>

        <div class="perfil">
            <div class="profile">
                <a href="#" class="profile"><img class="profile" src="assets/profile.png" /></a>
            </div>
            <div class="textoProfile">
                <a href="#" class="textoProfile">Tu perfil</a>
            </div>
        </div>
    </aside>

    <section class="loginRegistro">
        <div class="espacioLogin">
            <p class="textoNegroTitulo">Login</p>
            <p class="textoGrisInfo">Introduzca sus datos para acceder a la aplicación</p>
            <p><span id="help_login" style="margin-left: 0px;"></span></p>
            <input placeholder="Email" class="input" type="email" id="email_login"><span class="textoRojo"
                id="email_login_help"></span><br>
            <input placeholder="Contraseña" class="input" type="password" id="password_login"><span class="textoRojo"
                id="password_login_help"></span><br>
            <button class="botonLogin" id="login"><a class="textoBlanco">Login</a></button>
        </div>

        <hr class="division">
        <div class="espacioRegistro">
            <p class="textoNegroTitulo">Registro</p>
            <p class="textoGrisInfo">Introduzca sus datos para acceder a la aplicación</p>
            <p><span id="registro_help" style="margin-left: 0px;"></span></p>

            <input placeholder="Nombre" class="input" id="nombre"><span class="textoRojo" id="nombre_help"></span><br>
            <input placeholder="Apellidos" class="input" id="apellidos"><span class="textoRojo"
                id="apellidos_help"></span><br>
            <input placeholder="Email" class="input" type="email" id="email_registro"><span class="textoRojo"
                id="email_registro_help"></span><br>
            <input placeholder="Contraseña" class="input" type="password" id="password_registro"><span class="textoRojo"
                id="password_registro_help"></span><br>
            <input placeholder="Repita la contraseña" class="input" type="password" id="password_registro_bis"><span
                class="textoRojo" id="password_registro_bis_help"></span><br>

            <button class="botonLogin" id="registro"><a class="textoBlanco">Registro</a></button>
        </div>
    </section>

    <footer>
        <div class="footerIzquierda">
            <div class="infoFooter">
                <p class="textoFooter">Más formas de comprar: encuentra un <span class="enlaceAzul">Apple Store</span> o
                    un <span class="enlaceAzul">distribuidor</span> cerca de ti. O llama al 000 000
                    000.</p>
                <p class="textoFooter">Copyright © 2022 Apple Inc. Todos los derechos reservados.</p>
            </div>
            <div class="enlacesFooter">
                <a href="#" class="textoFooter">Política de privacidad </a> <a> | </a>
                <a href="#" class="textoFooter">Uso de Cookies </a> <a> | </a>
                <a href="#" class="textoFooter">Condiciones de servicio </a> <a> | </a>
                <a href="#" class="textoFooter">Ventas y reembolsos </a> <a> | </a>
                <a href="#" class="textoFooter">Avisos legales </a> <a> | </a>
                <a href="#" class="textoFooter">Mapa del sitio </a>
            </div>
        </div>
        <div class="footerDerecha">
            <div class="country">
                <a href="landingPage.html" class="textoNav"><img class="country" src="assets/spain.png" /></a>
            </div>
            <div class="enlaces">
                <a href="#" class="textoFooter">España</a>
            </div>
        </div>
    </footer>

    <script>
        $(document).ready(function () {
            var errorLogin = false;
            var errorRegistro = false;
            var regExpEmail = /^([a-zA-Z0-9\+\-\.]+)@(([a-zA-Z0-9]+\.)+)[a-zA-Z]+$/;
            var regExpPassword = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]{8,}$/;

            //Validación de los campos LOGIN
            $('#login').click(function () {

                //Validación del email
                if (!regExpEmail.test($('#email_login').val())) {
                    errorLogin = true;
                    $('#email_login_help').html('Introduzca un email válido');
                }

                //Comprobación contraseña
                if ($('#password_login').val() == '') {
                    errorLogin = true;
                    $('#password_login_help').html('Introduzca su contraseña');
                }

                //Comprobación de ERROR
                if (errorLogin == true) {
                    $('#help_login').addClass('textoRojo');
                    $('#help_login').html('Corrija los errores');
                } else {
                    $('#help_login').addClass('textoVerde');
                    $('#help_login').html('Login con éxito');
                    //Envío de los datos
                }
            });

            //Validación de los campos REGISTRO
            $('#registro').click(function () {

                //Validación del Nombre
                if ($('#nombre').val() == "") {
                    $('#nombre_help').html('Introduzca su nombre');
                    errorRegistro = true;
                }
                if ($('#nombre').val().length > 20) {
                    $('#nombre_help').html('Introduce un nombre válido');
                    errorRegistro = true;
                }

                //Validación de los apellidos
                if ($('#apellidos').val() == "") {
                    $('#apellidos_help').html('Introduzca sus apellidos');
                    errorRegistro = true;
                }
                if ($('#apellidos').val().length >= 40) {
                    $('#apellidos_help').html('Introduzca unos apellidos válidos');
                    errorRegistro = true;
                }

                //Validación del email
                if (!regExpEmail.test($('#email_registro').val())) {
                    errorRegistro = true;
                    $('#email_registro_help').html('Introduzca un email válido');
                }

                //Validación contraseña
                if ($('#password_registro').val() == '') {
                    errorRegistro = true;
                    $('#password_registro_help').html('No puede dejar este campo vacío');
                }
                if ($('#password_registro_bis').val() == '') {
                    errorRegistro = true;
                    $('#password_registro_bis_help').html('No puede dejar este campo vacío');
                }

                if (!regExpPassword.test($('#password_registro').val())) {
                    errorRegistro = true;
                    $('#password_registro_help').html('Su contraseña debe contener al menos 8 caracteres, una mayúscula, una minúscula y un número');
                }

                var iguales = $('#password_registro').val() == $('#password_registro_bis').val();
                if (!iguales) {
                    errorRegistro = true;
                    $('#password_registro_bis_help').html('Las contraseñas deben coincidir');
                }

                //Comprobación de ERROR
                if (errorRegistro == true) {
                    $('#registro_help').addClass('textoRojo');
                    $('#registro_help').html('Corrija los errores');
                } else {
                    $('#registro_help').addClass('textoVerde');
                    $('#registro_help').html('Has sido registrado con éxito');
                    //Envío de los datos
                }
            });

            $('#buscadorInput').keypress(function (e) {
                if (e.which == 13) {//Enter key pressed
                    window.location.replace("searchForm.html"); 
                }
            });
        });
    </script>
</body>

</html>